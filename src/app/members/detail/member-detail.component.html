<div class="row">


    <div class="col-md-12">
        <div class="card">
            <div class="card-body">

    <mat-tab-group>
    <mat-tab>
        <ng-template mat-tab-label>
            <mat-icon>library_books</mat-icon> Info

        </ng-template>

           <!-- <div class="card">
                <div class="card-body">-->

                    <mat-accordion class="example-headers-align">

                        <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                   1. Details
                                </mat-panel-title>
                            </mat-expansion-panel-header>

                            <div class="row">

                                    <div class="col-6">
                                        Account Number :
                                    </div>
                                    <div class="col-6" style="font-weight: bold;">
                                        {{(memberData$|async)?.account?.account_number}}
                                    </div>

                            </div>

                            <div class="row">
                                <div class="col-12">
                                   <mat-form-field>
                                       <input matInput disabled placeholder="" value="">
                                   </mat-form-field>
                                    <!--<mat-form-field>
                                        <input style="font-weight: bold;" matInput placeholder="Account Number" disabled value="{{(memberData$|async)?.account?.account_number}}">
                                    </mat-form-field>-->
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Membership Start Date" disabled value="{{(memberData$|async)?.date_became_member}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Date of Birth" disabled value="{{(memberData$|async)?.date_of_birth}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="First Name" disabled value="{{(memberData$|async)?.first_name}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Middle Name" disabled value="{{(memberData$|async)?.middle_name}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Last Name" disabled value="{{(memberData$|async)?.last_name}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Phone" disabled value="{{(memberData$|async)?.phone}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="ID umber" disabled value="{{(memberData$|async)?.id_number}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Passport Number" disabled value="{{(memberData$|async)?.passport_number}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Nationality" disabled value="{{(memberData$|async)?.nationality}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="County" disabled value="{{(memberData$|async)?.county}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="City" disabled value="{{(memberData$|async)?.member?.city}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Email" disabled value="{{(memberData$|async)?.email}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Postal Address" disabled value="{{(memberData$|async)?.postal_address}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Residential Address" disabled value="{{(memberData$|async)?.residential_address}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Membership Status" disabled value="{{(memberData$|async)?.status_id}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <mat-action-row>
                                <button mat-button color="primary" (click)="editDialog()">Edit</button>
                                <button mat-button color="primary" (click)="nextStep()">Next</button>
                            </mat-action-row>
                        </mat-expansion-panel>

                        <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                  2.  Bank Details
                                </mat-panel-title>
                            </mat-expansion-panel-header>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Disburse Method" disabled value="{{(memberData$|async)?.disburse_method_id}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Mpesa Number" disabled value="{{(memberData$|async)?.mpesa_number}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Bank Name" disabled value="{{(memberData$|async)?.bank_name}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Bank Branch" disabled value="{{(memberData$|async)?.bank_branch}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Account Number" disabled value="{{(memberData$|async)?.bank_account}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field>
                                        <input matInput placeholder="Other Banking Details" disabled value="{{(memberData$|async)?.other_banking_details}}">
                                    </mat-form-field>
                                </div>
                            </div>

                            <mat-action-row>
                                <button mat-button color="primary" (click)="prevStep()">Edit</button>
                                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                                <button mat-button color="primary" (click)="nextStep()">Next</button>
                            </mat-action-row>
                        </mat-expansion-panel>

                        <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                   3. Witness Details
                                </mat-panel-title>
                            </mat-expansion-panel-header>

                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Witness Type" disabled value="{{(memberData$|async)?.witness_type_id}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="First Name" disabled value="{{(memberData$|async)?.witness_first_name}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Last Name" disabled value="{{(memberData$|async)?.witness_last_name}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Phone" disabled value="{{(memberData$|async)?.witness_phone}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Email" disabled value="{{(memberData$|async)?.witness_email}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="National ID" disabled value="{{(memberData$|async)?.witness_national_id}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Country" disabled value="{{(memberData$|async)?.witness_country}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Country" disabled value="{{(memberData$|async)?.witness_county}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="City / Town" disabled value="{{(memberData$|async)?.witness_city}}">
                                    </mat-form-field>
                                </div>
                                <div class="col-6">
                                    <mat-form-field>
                                        <input matInput placeholder="Postal Address" disabled value="{{(memberData$|async)?.witness_postal_address}}">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field>
                                        <input matInput placeholder="Residential Address" disabled value="{{(memberData$|async)?.witness_residential_address}}">
                                    </mat-form-field>
                                </div>
                            </div>


                            <mat-action-row>
                                <button mat-button color="primary" (click)="prevStep()">Edit</button>
                                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                                <button mat-button color="primary" (click)="nextStep()">End</button>
                            </mat-action-row>
                        </mat-expansion-panel>

                    </mat-accordion>

             <!--   </div>
            </div>-->

    </mat-tab>


    <mat-tab>
        <ng-template mat-tab-label>
            <mat-icon>attach_money</mat-icon> Payments
        </ng-template>
        <div class="card">
            <div class="card-body">
               <!-- {{loanApplicationData?.id}}
                {{(memberData$|async)?.id}}-->

                <app-member-payments></app-member-payments>

       <!-- <div class="row search-form-section">

            <div class="col-4">
                <button mat-button matPrefix mat-stroked-button aria-label="add new" (click)="addDialog()">
                    <mat-icon>add</mat-icon>Add Payment
                </button>

            </div>

            <div class="col-7">
               &lt;!&ndash; <mat-form-field class="search-form-field">
                    <input matInput #search placeholder="Search" autocomplete="off" [disabled]="meta?.total===0">
                    <button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="search.value" (click)="clearSearch()">
                        <mat-icon>close</mat-icon></button>
                </mat-form-field>&ndash;&gt;
            </div>
        </div>

        <div class="table-responsive">

            <mat-table #table [dataSource]="paymentsDataSource">

                <ng-container matColumnDef="amount">
                    <mat-header-cell *matHeaderCellDef> Amount </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.amount}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="method_id">
                    <mat-header-cell *matHeaderCellDef> Payment Method </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.method_id}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="date">
                    <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.date}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="actions">
                    <mat-header-cell *matHeaderCellDef> Actions  </mat-header-cell>
                    <mat-cell *matCellDef="let row" class="button-row">
                        <button mat-icon-button [matMenuTriggerFor]="menu">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="editDialog(row)">
                                <mat-icon color="accent">edit</mat-icon>
                                <span>Edit</span>
                            </button>
                            <button mat-menu-item (click)="openConfirmationDialog(row)">
                                <mat-icon color="warn">delete</mat-icon>
                                <span>Delete</span>
                            </button>
                        </mat-menu>
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="paymentColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: paymentColumns;"> </mat-row>

            </mat-table>
            <span *ngIf="meta?.total===0">No Data</span>

            <div class="d-flex justify-content-center spinner-container" *ngIf="(paymentsDataSource?.loading$ | async) || loader">
                <mat-spinner [diameter]="40"></mat-spinner>
            </div>

           &lt;!&ndash; <mat-paginator #pagination
                           [length]="meta?.total"
                           [pageIndex]="pageIndex"
                           [pageSizeOptions]="pageSizeOptions" showFirstLastButtons>
            </mat-paginator>&ndash;&gt;


        </div>-->

            </div>
        </div>

    </mat-tab>

    <!--<mat-tab>
        <ng-template mat-tab-label>
            <mat-icon>commute</mat-icon> Assets
        </ng-template>

        <div class="card">
            <div class="card-body">
                &lt;!&ndash; {{loanApplicationData?.id}}
                 {{(memberData$|async)?.id}}&ndash;&gt;


                <div class="row search-form-section">

                    <div class="col-4">
                        <button mat-button matPrefix mat-stroked-button aria-label="add new" (click)="addDialog()">
                            <mat-icon>add</mat-icon>Add Asset
                        </button>

                    </div>

                    <div class="col-7">
                        &lt;!&ndash; <mat-form-field class="search-form-field">
                             <input matInput #search placeholder="Search" autocomplete="off" [disabled]="meta?.total===0">
                             <button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="search.value" (click)="clearSearch()">
                                 <mat-icon>close</mat-icon></button>
                         </mat-form-field>&ndash;&gt;
                    </div>
                </div>

                <div class="table-responsive">

                    <mat-table #table [dataSource]="assetsDataSource">

                        <ng-container matColumnDef="valuation_amount">
                            <mat-header-cell *matHeaderCellDef> Valuation Amount </mat-header-cell>
                            <mat-cell *matCellDef="let row"> {{row.valuation_amount}} </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="asset_number">
                            <mat-header-cell *matHeaderCellDef> Asset Number </mat-header-cell>
                            <mat-cell *matCellDef="let row"> {{row.asset_number}} </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="valuation_date">
                            <mat-header-cell *matHeaderCellDef> Valuation Date </mat-header-cell>
                            <mat-cell *matCellDef="let row"> {{row.valuation_date}} </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="actions">
                            <mat-header-cell *matHeaderCellDef> Actions  </mat-header-cell>
                            <mat-cell *matCellDef="let row" class="button-row">
                                <button mat-icon-button [matMenuTriggerFor]="menu">
                                    <mat-icon>more_vert</mat-icon>
                                </button>
                                <mat-menu #menu="matMenu">
                                    <button mat-menu-item (click)="editDialog(row)">
                                        <mat-icon color="accent">edit</mat-icon>
                                        <span>Edit</span>
                                    </button>
                                    <button mat-menu-item (click)="openConfirmationDialog(row)">
                                        <mat-icon color="warn">delete</mat-icon>
                                        <span>Delete</span>
                                    </button>
                                </mat-menu>
                            </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="assetsColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: assetsColumns;"> </mat-row>

                    </mat-table>
                    <span *ngIf="meta?.total===0">No Data</span>

                    <div class="d-flex justify-content-center spinner-container" *ngIf="(dataSource?.loading$ | async) || loader">
                        <mat-spinner [diameter]="40"></mat-spinner>
                    </div>

                    &lt;!&ndash; <mat-paginator #pagination
                                    [length]="meta?.total"
                                    [pageIndex]="pageIndex"
                                    [pageSizeOptions]="pageSizeOptions" showFirstLastButtons>
                     </mat-paginator>&ndash;&gt;


                </div>

            </div>
        </div>

    </mat-tab>-->

  <!--  <mat-tab>
        <ng-template mat-tab-label>
            <mat-icon>work</mat-icon> Manage
        </ng-template>

        <div class="row">
            <div class="card">
                <div class="card-body">

                    manage loan

                </div>
            </div>
        </div>

    </mat-tab>-->

</mat-tab-group>

            </div>
        </div>
    </div>
</div>
