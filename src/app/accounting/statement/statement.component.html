
<div class="d-flex justify-content-center spinner-container" *ngIf="loader">
    Statement ...
    <mat-spinner [diameter]="40"></mat-spinner>
</div>

<div class="card-header" *ngIf="!loader" style="text-align: center; font-size: small;">
    <div>
        <span> Account Statement </span>
    </div>
    <div class="row col-12">
        <div class="col-6">
            <div class="row">A/C Name: {{account.member ? account.member?.first_name : account.account_name}}</div>
            <div class="row">A/C Number: {{account.account_number}}</div>
        </div>
        <div class="col-6">
            <div class="row"> A/C Type: {{account.accountType?.name}} </div>
            <div class="row"> A/C Class: {{account.accountType?.accountClass?.name}} </div>
        </div>
    </div>
</div>

<mat-dialog-content class="mat-dialog-data">

    <div *ngIf="!loader" class="table-responsive">
      <mat-table #table [dataSource]="dataSource">

          <!-- Due Date Column -->
          <ng-container matColumnDef="date">
              <mat-header-cell class="date" *matHeaderCellDef> Date </mat-header-cell>
              <mat-cell class="date" *matCellDef="let row"> {{row.created_at| date: 'dd/MM/yyyy'}} </mat-cell>
          </ng-container>

        <!-- Payment Column -->
        <ng-container matColumnDef="narration">
            <mat-header-cell class="narration" *matHeaderCellDef> Narration </mat-header-cell>
            <mat-cell class="narration" *matCellDef="let row"> {{row.narration}} </mat-cell>
        </ng-container>

        <!-- Interest Column -->
        <ng-container matColumnDef="debit">
            <mat-header-cell *matHeaderCellDef> Debit </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{(row.amount > 0 ? row.amount : 0)|number:'1.2'}} </mat-cell>
        </ng-container>

        <!-- Principal Column -->
        <ng-container matColumnDef="credit">
            <mat-header-cell *matHeaderCellDef> Credit </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{(row.amount < 0 ? (row.amount)*-1 : 0) |number:'1.2'}} </mat-cell>
        </ng-container>

        <!-- Balance Column -->
        <ng-container matColumnDef="balance">
            <mat-header-cell *matHeaderCellDef> Balance </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.balance|number:'1.2'}} </mat-cell>
        </ng-container>

          <mat-header-row *matHeaderRowDef="tableColumns; sticky: true"></mat-header-row>
            <mat-row *matRowDef="let row; columns: tableColumns;"> </mat-row>


      </mat-table>
        <span *ngIf="dataSource.length === 0">No Activity</span>

    </div>

</mat-dialog-content>

<mat-dialog-actions align="center">
    <button mat-button class="mat-raised-button" [mat-dialog-close]="true">Close</button>
</mat-dialog-actions>
